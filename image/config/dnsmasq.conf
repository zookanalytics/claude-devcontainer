# dnsmasq configuration for DNS query logging in devcontainer

# Don't read /etc/resolv.conf - we'll specify DNS servers explicitly
no-resolv

# Upstream DNS server is passed via command line (--server flag)
# This allows dynamic detection based on the actual Docker DNS configuration

# Listen only on localhost (IPv4)
listen-address=127.0.0.1

# Don't read /etc/hosts file
no-hosts

# Log all DNS queries with timestamps and details
log-queries

# Write logs to dedicated file
log-facility=/var/log/dnsmasq.log

# DNS cache size (moderate size for development)
cache-size=1000
