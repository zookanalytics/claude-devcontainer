#!/usr/bin/env python3
"""
BMAD Orchestrator CLI entry point.

Usage:
    ./scripts/bmad-cli status          # Show sprint status
    ./scripts/bmad-cli status -s       # Show stories by status
    ./scripts/bmad-cli next            # Show and execute next action
    ./scripts/bmad-cli run-story ID    # Run a story to completion
    ./scripts/bmad-cli run-epic ID     # Run an epic to completion

Requires Python 3.10+ (uses modern type hint syntax).
"""

import sys
from pathlib import Path

# Check Python version before importing modules that use 3.10+ syntax
if sys.version_info < (3, 10):
    print("Error: bmad-cli requires Python 3.10 or later", file=sys.stderr)
    print(f"Current version: {sys.version}", file=sys.stderr)
    sys.exit(1)

# Add scripts directory to path for imports
# Resolve symlinks to find actual location (important when symlinked from /usr/local/bin)
scripts_dir = Path(__file__).resolve().parent
sys.path.insert(0, str(scripts_dir))

from bmad.cli import main, UserAbort

if __name__ == "__main__":
    try:
        sys.exit(main())
    except KeyboardInterrupt:
        print("\nAborted.")
        sys.exit(130)
    except UserAbort:
        print("\nAborted.")
        sys.exit(0)
